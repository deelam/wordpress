!function(e){var s={calcScrollOffset:function(t,l){var o=t.offset().top-l;return o<0?0:o},init:function(t){t.each(function(){var c=e(this);c.data("smoothScroll")&&c.find(".lwptoc_items").on("click",'A[href^="#"]',function(t){t.preventDefault();var l=this.hash,i=e('[id="'+l.slice(1)+'"]:visible');if(i.length){if(l!=location.hash){var o=i.attr("id"),a=e("<a> </a>").attr("id",o).css({position:"absolute",top:e(window).scrollTop(),left:e(window).scrollLeft(),visibility:"hidden"});i.attr("id",""),e("body").prepend(a),location.hash=l,a.remove(),i.attr("id",o)}var n=c.data("smoothScrollOffset");e("html, body").animate({scrollTop:s.calcScrollOffset(i,n)},{duration:500,step:function(t,l){var o=s.calcScrollOffset(i,n);l.end!==o&&(l.end=o)}})}})}),t.find(".lwptoc_toggle_label").click(function(){var t=e(this),l=t.closest(".lwptoc").find(".lwptoc_items"),o=t.data("label");return"none"==l.css("display")?(l.stop(!0).slideDown(300),t.data("label",t.html()).html(o)):l.stop(!0).slideUp(300,function(){t.data("label",t.html()).html(o)}),!1})}};e(function(){s.init(e(".lwptoc"))})}(jQuery);