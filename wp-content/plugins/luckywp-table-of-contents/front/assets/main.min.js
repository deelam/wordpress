!function(c){var s={calcScrollOffset:function(t,l){var o=t.offset().top-l;return o<0?0:o},init:function(t){t.each(function(){var e=c(this);e.data("smoothScroll")&&e.find(".lwptoc_items").on("click",'A[href^="#"]',function(t){t.preventDefault();var l=c(this).attr("href"),i=c('[id="'+l.slice(1)+'"]:visible');if(i.length){if(l!=location.hash){var o=i.attr("id"),a=c("<a> </a>").attr("id",o).css({position:"absolute",top:c(window).scrollTop(),left:c(window).scrollLeft(),visibility:"hidden"});i.attr("id",""),c("body").prepend(a),location.hash=l,a.remove(),i.attr("id",o)}var n=e.data("smoothScrollOffset");c("html, body").animate({scrollTop:s.calcScrollOffset(i,n)},{duration:500,step:function(t,l){var o=s.calcScrollOffset(i,n);l.end!==o&&(l.end=o)}})}})}),t.find(".lwptoc_toggle_label").click(function(){var t=c(this),l=t.closest(".lwptoc").find(".lwptoc_items"),o=t.data("label");return"none"==l.css("display")?(l.stop(!0).slideDown(300),t.data("label",t.html()).html(o)):l.stop(!0).slideUp(300,function(){t.data("label",t.html()).html(o)}),!1})}};c(function(){s.init(c(".lwptoc"))})}(jQuery);